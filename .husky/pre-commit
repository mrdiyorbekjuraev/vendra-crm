echo "ğŸ› ï¸ Running tests..."

# npm run test --forceExit

echo "âš™ï¸ Running Bime format and automatically formatting the code..."
npx @biomejs/biome format --write . # Automatically format the code

# Biome check
echo "ğŸ”§ Running Bime check and automatically fixing the code... ğŸ› ï¸"
npx @biomejs/biome check --write . # Automatically fix the code

# Biome fix
echo "ğŸš€ Running Bime lint and automatically linting the code..."
npx @biomejs/biome lint --write . # Automatically lint the code

# Linting
# npx lint-staged --concurrent false

# Git status check
echo "ğŸ” Checking your commit message..."
git status

# Check if there are changes to commit
if ! git diff --quiet; then
  # Check if there are changes to commit
  echo "ğŸ” Checking your commit message..."
  git status

  # Automatically add changes to git
  echo "ğŸ“ Adding changes to git..."
  git add .

  # Amend the original commit
  echo "ğŸ’¾ Amending the original commit..."
  git commit --amend --no-edit
fi

# Warning message
echo "ğŸ”” Please notify that the code should be updated to the latest version of the dev branch before committing."